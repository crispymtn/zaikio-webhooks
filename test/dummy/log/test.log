----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1661)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 462)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 397)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 442)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 155)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 420)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 15:55:01 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2297)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 4147)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 4068)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 11ms (Allocations: 4020)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.1ms | Allocations: 3425)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 399)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 5ms (Allocations: 4020)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 156)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:01:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 136)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 1.9ms | Allocations: 1333)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 136)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | Allocations: 487)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 398)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 465)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 420)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2301)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:02:12 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 446)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.1ms | Allocations: 3543)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | Allocations: 433)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 442)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 409)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 169)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 458)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:04:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 476)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1671)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.4ms | Allocations: 472)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2302)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 452)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 407)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:05:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 427)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.2ms | Allocations: 2997)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 407)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 430)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 427)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 452)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:07:08 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 427)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 1.9ms | Allocations: 1339)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 441)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 427)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.3ms | Allocations: 1819)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 408)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 472)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 452)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:07:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.1ms | Allocations: 1618)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 427)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 405)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 455)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1823)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:08:24 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 472)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:53 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3817)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:53 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3746)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:53 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3746)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:53 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3746)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:53 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 7ms (Allocations: 3746)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:54 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3746)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:09:54 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3794)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:09:54 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 14ms (Allocations: 3738)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1672)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.3ms | Allocations: 163)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 453)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2304)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 409)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 473)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1703)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2307)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 439)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 409)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 453)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:10:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 3.6ms | Allocations: 1586)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 439)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.4ms | Allocations: 453)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 476)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1824)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:18:58 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.1ms | Allocations: 1586)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1820)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 164)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 455)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 473)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 439)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1686)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 439)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2304)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 473)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 431)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:19:53 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.2ms | Allocations: 1608)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 862)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 852)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1825)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 850)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.1ms | Allocations: 1639)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 439)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.3ms | Allocations: 2304)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 164)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 441)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:28:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 439)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 1.9ms | Allocations: 1340)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 445)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.2ms | Allocations: 1825)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 457)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 476)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:30:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1661)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2304)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 442)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 459)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:31:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 476)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.9ms | Allocations: 1314)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 498)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 476)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 459)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2307)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.3ms | Allocations: 1608)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.3ms | Allocations: 163)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.3ms | Allocations: 476)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 445)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | Allocations: 1824)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:33:40 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 456)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.6ms | Allocations: 1675)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2304)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.4ms | Allocations: 406)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 456)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 479)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:17 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 428)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1661)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 456)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 442)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2304)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 164)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 478)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-16 16:55:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 406)
----------------------------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_fetches_keys_from_API_and_stores_them_in_Redis
----------------------------------------------------------------------------------
---------------------------------------------------------------
Zaikio::JWTAuth::JWK::Test: test_it_loads_keys_from_redis_cache
---------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 395)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 4.1ms | Allocations: 1289)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 287)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:34 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 395)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 2.1ms | Allocations: 1264)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 0ms (Allocations: 286)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 287)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:24:57 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 398)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 2.2ms | Allocations: 1264)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:25:48 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 289)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 398)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.1ms | Allocations: 1289)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | Allocations: 138)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:23 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 289)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 395)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.5ms | Allocations: 1289)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 287)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:26:42 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 398)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 2.1ms | Allocations: 1264)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 289)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:05 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 395)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.2ms | Allocations: 1289)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 287)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:20 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 398)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.0ms | Allocations: 1289)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 289)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:27:37 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 396)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.1ms | Allocations: 1289)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 287)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 138)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 400)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 290)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 2.0ms | Allocations: 1264)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 290)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 290)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 291)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:28:22 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 290)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 398)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.2ms | Allocations: 1289)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 289)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:03 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 395)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 7.9ms | Allocations: 1264)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:27 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 287)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 395)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.2ms | Allocations: 1289)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 287)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:29:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 286)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 398)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 2.2ms | Allocations: 1264)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 288)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 163)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:30:08 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 289)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.9ms | Allocations: 1314)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.3ms | Allocations: 2345)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1907)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 413)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 483)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 463)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 438)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 2.0ms | Allocations: 1339)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 520)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 435)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 413)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 449)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 483)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2396)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:31:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | Allocations: 137)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 2.4ms | Allocations: 3466)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 453)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 450)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 484)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 439)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1915)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 2.0ms | Allocations: 1314)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 492)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 484)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 414)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 464)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2400)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:35:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 451)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.2ms | Allocations: 1647)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.4ms | Allocations: 2395)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 436)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 464)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.3ms | Allocations: 487)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:36:06 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 450)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 3.0ms | Allocations: 1647)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2800)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 436)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 484)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 453)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 464)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:37:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 477)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.0ms | Allocations: 1714)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 417)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 464)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 450)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 8ms (Views: 0.2ms | Allocations: 2801)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 478)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 436)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:38:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.3ms | Allocations: 1697)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 450)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 484)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 477)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 436)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 417)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2803)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.0ms | Allocations: 1647)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 2372)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 500)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 505)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 519)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2792)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 534)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:39:55 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 2.2ms | Allocations: 1647)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 519)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2800)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 533)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 162)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 7ms (Views: 0.2ms | Allocations: 556)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 505)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 500)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 10:40:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 137)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:27 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 4.0ms | Allocations: 3965)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:27 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 151)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:27 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 2427)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:28 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 540)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:28 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:28 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.3ms | Allocations: 2364)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:28 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 523)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 16:43:28 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 551)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:43:28 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 518)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.7ms | Allocations: 1748)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.3ms | Allocations: 2872)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 523)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 574)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 551)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 151)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 537)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:46:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 430)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 3.5ms | Allocations: 3693)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 524)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 552)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 151)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 429)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2827)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 516)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 535)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:00 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 3.6ms | Allocations: 1747)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 569)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.3ms | Allocations: 176)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 6ms (Views: 0.8ms | Allocations: 2866)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.2ms | Allocations: 535)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 152)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 551)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 521)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-17 16:50:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 429)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 2.9ms | Allocations: 5712)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 5ms (Views: 0.3ms | Allocations: 2424)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 429)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 151)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 524)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 516)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | Allocations: 549)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:48:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 535)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.1ms | Allocations: 1747)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 549)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 151)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 429)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 535)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 524)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2869)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 569)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:49:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 2.1ms | Allocations: 4098)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 537)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 516)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 569)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 524)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 122)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | Allocations: 549)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:26 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 429)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.1ms | Allocations: 1747)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 6ms (Views: 0.3ms | Allocations: 2864)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 569)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 122)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 429)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 552)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 535)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 521)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:50:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 176)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 2.1ms | Allocations: 1766)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 8ms (Views: 0.3ms | Allocations: 2864)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 122)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.3ms | Allocations: 521)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.3ms | Allocations: 176)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.6ms | Allocations: 552)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.4ms | Allocations: 429)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 516)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:52:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.5ms | Allocations: 569)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 622)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 504)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.1ms | Allocations: 491)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2837)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 518)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-20 10:53:42 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1665)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 200)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 13ms (Views: 0.1ms | Allocations: 4330)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 2321)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 504)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 487)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-28 10:25:31 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 518)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:25:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 3.0ms | Allocations: 1665)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 626)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 485)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 504)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 400)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 518)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1667)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2838)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2969)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 520)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 506)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-28 10:26:47 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.0ms | Allocations: 1667)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 2751)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2317)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 0.3ms | Allocations: 2372)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.8ms | Allocations: 1667)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 504)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 214)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 163)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:54:29 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 163)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 240)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 163)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 163)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 199)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 454)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2838)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.2ms | Allocations: 1667)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 518)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 6ms (Views: 0.1ms | Allocations: 490)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:54:46 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 506)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 640)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 145)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 3.3ms | Allocations: 1667)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 1.1ms | Allocations: 485)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 520)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 2838)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 214)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 163)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:55:03 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Completed 500 Internal Server Error in 0ms (Allocations: 163)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 626)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 0.1ms | Allocations: 2835)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 506)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 3.5ms | Allocations: 1667)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 518)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 181)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 135)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:56:25 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 135)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.2ms | Allocations: 2889)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 506)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 485)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1669)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 518)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 181)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 135)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 16:56:57 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 135)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 626)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 518)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 487)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 504)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2838)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1667)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 188)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 141)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:00:43 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 141)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:01:11 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 231)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:03:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 237)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:04:29 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 233)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:06:19 +0100
Error occurred while parsing request parameters.
Contents:

name=directory.revoked_access_token&payload[access_token_id]=my-webhook-token
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:06:41 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 519)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:07:07 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 500 Internal Server Error in 1ms (Allocations: 410)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:07:12 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 500 Internal Server Error in 1ms (Allocations: 410)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:07:36 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 500 Internal Server Error in 1ms (Allocations: 415)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:10:55 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 240)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:11:12 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 240)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 200)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 547)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 398)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 516)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.8ms | Allocations: 1667)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2838)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 488)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 562)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 372)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 141)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:12:10 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 132)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 652)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 502)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1667)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2838)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 488)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 562)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 372)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 141)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:13:32 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 132)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 572)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 400)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.9ms | Allocations: 1665)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 562)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2838)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 502)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 488)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 188)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 132)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:13:56 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 325)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 559)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 9ms (Views: 0.1ms | Allocations: 2837)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1666)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.2ms | Allocations: 563)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 517)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 188)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 325)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:14:23 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 132)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 11ms (Views: 3.1ms | Allocations: 3547)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1792)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1808)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2760)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1822)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1794)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 6ms (Views: 0.1ms | Allocations: 1727)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 132)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-01-29 17:16:52 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 141)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 4415)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.9ms | Allocations: 1704)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.3ms | Allocations: 714)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 496)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 522)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2328)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:14:59 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 534)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 535)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.2ms | Allocations: 1669)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.3ms | Allocations: 710)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 506)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 492)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 520)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:15:31 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2839)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 638)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 541)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1670)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 495)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2839)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 487)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 519)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:18:37 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 632)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 181)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 0.1ms | Allocations: 2836)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 503)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.1ms | Allocations: 1668)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 485)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 519)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 490)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 505)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:19:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:20:01 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2543)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:20:30 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.0ms | Allocations: 1785)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2969)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 487)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.4ms | Allocations: 1663)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 527)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.5ms | Allocations: 702)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 514)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 395)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 480)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 500)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 626)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 398)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 534)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2837)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 485)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 505)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.3ms | Allocations: 1661)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 519)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-01-30 16:20:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 713)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 6ms (Views: 0.1ms | Allocations: 4374)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1837)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 3.2ms | Allocations: 2945)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2013)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 0.1ms | Allocations: 2287)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1805)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1785)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:54:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1790)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:54:34 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1720)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:54:34 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 141)
-----------------------------------------------------------------
WebhooksControllerTest: test_unauthorized_if_signature_is_invalid
-----------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:54:34 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 111)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 2.1ms | Allocations: 3622)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2028)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1791)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 1790)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1795)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2756)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 198)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1677)
-------------------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_reach_create_code
-------------------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:56:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.1ms | Allocations: 2839)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2281)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1832)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1790)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.1ms | Allocations: 2945)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1805)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2013)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1720)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-------------------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_reach_create_code
-------------------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:57:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:02 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 2.2ms | Allocations: 3622)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 08:58:02 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 1824)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:02 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:02 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1796)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1805)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2756)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1785)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1832)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 1991)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 198)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 08:58:03 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1673)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
------------------------------------
Zaikio::JWTAuth::Test: test_revoked?
------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 8ms (Views: 0.2ms | Allocations: 4344)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | Allocations: 120)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:13:56 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 11ms (Views: 2.8ms | Allocations: 2986)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2287)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1805)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1795)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2013)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1785)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 167)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1674)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:13:57 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2454)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 10ms (Views: 4.1ms | Allocations: 2944)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 8ms (Views: 1.1ms | Allocations: 2048)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 366)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 2760)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1818)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1784)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1789)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1804)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1720)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:16:08 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 4.0ms | Allocations: 3023)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 405)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1790)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2756)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1804)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1789)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2013)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1794)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1818)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 167)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1674)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:16:51 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 2.3ms | Allocations: 3599)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1831)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2756)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1804)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2019)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 145)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1818)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1794)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1789)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 167)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1674)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-03 12:18:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 200)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 9ms (Views: 0.1ms | Allocations: 4330)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 13ms (Views: 7.9ms | Allocations: 3006)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1835)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1814)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1809)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 2299)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2037)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 145)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1744)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-04 09:59:30 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2337)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 159)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 121)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 181)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2774)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1829)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 2.8ms | Allocations: 2984)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1856)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1809)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1843)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-04 10:00:05 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2014)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 211)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1698)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 159)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 14ms (Views: 0.1ms | Allocations: 3750)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1855)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2299)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 6ms (Views: 4.5ms | Allocations: 2960)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1842)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.4ms | Allocations: 2036)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-05 10:40:04 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1828)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 5ms (Views: 0.2ms | Allocations: 2337)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 159)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 156)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 3737)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 1842)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 145)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1855)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1808)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 1813)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 6ms (Views: 4.4ms | Allocations: 2983)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2299)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2013)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:55:30 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 156)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 247)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2244)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 156)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1852)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.3ms | Allocations: 1834)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1855)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2768)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.1ms | Allocations: 2960)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 366)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:39 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2041)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 11:57:40 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.2ms | Allocations: 1842)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:57:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:58:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 247)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:58:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 9ms (Views: 0.1ms | Allocations: 2247)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:58:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 156)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1847)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1855)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1834)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.6ms | Allocations: 2983)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2014)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2768)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 11:58:19 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 1842)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 247)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 124)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1697)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 189)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.2ms | Allocations: 149)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.3ms | Allocations: 149)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 153)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 156)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1850)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.7ms | Allocations: 2983)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1828)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1855)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2014)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2773)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 11:59:44 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1809)
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2332)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 159)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1885)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1828)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 3.1ms | Allocations: 2983)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 2773)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 365)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1808)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2051)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1818)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 156)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 149)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 149)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:01:49 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 232)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 153)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 149)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 153)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 6ms (Views: 3.8ms | Allocations: 3614)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1836)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2770)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2053)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 5ms (Views: 0.1ms | Allocations: 1824)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1811)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1844)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 198)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:03:22 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1699)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2489)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 1865)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 4.9ms | Allocations: 2981)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1849)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1809)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2769)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2015)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1814)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 185)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 153)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 149)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 153)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1745)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:07:28 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.2ms | Allocations: 121)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2336)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 159)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 183)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 147)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 147)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 147)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 147)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 2.5ms | Allocations: 3005)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 8ms (Views: 0.6ms | Allocations: 2094)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1830)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 1843)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1814)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2769)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:09:40 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:05 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.1ms | Allocations: 231)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:10:05 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 147)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:05 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:05 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 147)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:05 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 147)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:05 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 147)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:15 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 231)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:10:25 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 236)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:14:59 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 1669)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:15:29 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 1670)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:15:58 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 206)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:16:45 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 231)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:17:11 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 211)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:17:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 235)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:17:36 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 1784)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:18:26 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 206)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:18:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 120)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:18:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 123)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:18:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 123)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:18:26 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 3.6ms | Allocations: 1303)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:18:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 125)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:21:03 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 237)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:03 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:03 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 123)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:03 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:03 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:03 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 5.0ms | Allocations: 1303)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:26 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 1.9ms | Allocations: 1378)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:21:26 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 162)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------
TestHelperTest: test_forbidden_if_JWT_expired
---------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 130)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:21:26 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 125)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:04 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 223)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:04 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:22:04 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:04 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 2.0ms | Allocations: 1303)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:04 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 205)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 3.8ms | Allocations: 1303)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.7ms | Allocations: 140)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 176)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 173)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 136)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1751)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:22:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2481)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 366)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 2.2ms | Allocations: 3012)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1821)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 1845)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 145)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2046)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2771)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1831)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 176)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 0ms (Views: 0.3ms | Allocations: 349)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 154)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 167)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1701)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:25:18 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2502)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 366)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2775)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 4.4ms | Allocations: 3008)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 9ms (Views: 0.1ms | Allocations: 1814)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1846)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1821)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2040)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1747)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 0ms (Views: 0.3ms | Allocations: 384)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:26:21 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 220)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.5ms | Allocations: 125)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 6ms (Views: 4.7ms | Allocations: 1303)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2417)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1811)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2040)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2771)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.3ms | Allocations: 2053)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1821)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1845)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1747)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:26:33 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 247)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2246)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 404)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 1844)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 8ms (Views: 5.4ms | Allocations: 2999)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.3ms | Allocations: 120)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1825)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.5ms | Allocations: 2039)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2770)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1830)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 190)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 0ms (Views: 0.3ms | Allocations: 348)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 12:28:34 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 223)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 154)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 6.7ms | Allocations: 1303)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 12ms (Views: 0.1ms | Allocations: 2290)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 0.4ms | Allocations: 3960)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 1.7ms | Allocations: 2074)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1820)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2301)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1844)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1830)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:47:56 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 223)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 4ms (Views: 3.5ms | Allocations: 1303)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.3ms | Allocations: 2642)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1851)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1820)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1830)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2038)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2770)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1844)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1746)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:48:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 208)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 2.2ms | Allocations: 1303)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 198)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1699)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2056)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 181)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.2ms | Allocations: 1826)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2039)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1830)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2770)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1821)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1844)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-12 16:48:23 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 2.9ms | Allocations: 1378)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 133)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 140)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 154)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 198)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 121)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 3ms (Views: 0.1ms | Allocations: 1699)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 3756)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 0.4ms | Allocations: 2039)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1844)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1830)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1857)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2015)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:43:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2301)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 208)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 7ms (Allocations: 1378)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by TestHelperResourcesController#create as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 1362)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 7ms (Allocations: 1362)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 7ms (Views: 0.1ms | Allocations: 2889)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
Completed 500 Internal Server Error in 12ms (Allocations: 3555)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 9ms (Allocations: 3059)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by OtherAppResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3085)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by OtherAppResourcesController#index as HTML
Completed 500 Internal Server Error in 9ms (Allocations: 3049)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 9ms (Allocations: 3052)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 10ms (Allocations: 3053)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1811)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 14ms (Allocations: 3053)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1751)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 159)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:55:13 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2335)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 159)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 1ms (Views: 0.7ms | Allocations: 121)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 403)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3070)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by OtherAppResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3086)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 9ms (Allocations: 3053)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
Completed 500 Internal Server Error in 8ms (Allocations: 3052)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by OtherAppResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3048)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 9ms (Allocations: 3053)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 3052)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2776)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1812)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 161)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by TestHelperResourcesController#create as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 1362)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 1362)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:57:45 +0100
Processing by TestHelperResourcesController#index as HTML
Completed 500 Internal Server Error in 7ms (Allocations: 1362)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:58:10 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 4.9ms | Allocations: 3596)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:10 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 4ms (Views: 0.4ms | Allocations: 2077)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1834)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1847)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1827)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1827)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1833)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2770)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 1ms (Views: 0.5ms | Allocations: 388)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 143)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1750)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:58:11 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 208)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 1.9ms | Allocations: 1306)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 143)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.3ms | Allocations: 157)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 2290)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.2ms | Allocations: 1855)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1839)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2056)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2770)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1823)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1847)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2041)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1827)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 120)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 16:58:21 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 9ms (Views: 0.1ms | Allocations: 1827)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 225)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 9ms (Views: 0.1ms | Allocations: 2424)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1850)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 1829)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 10ms (Views: 0.1ms | Allocations: 2772)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 2.6ms | Allocations: 2985)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 1896)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2055)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1823)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 161)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 143)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 0ms (Views: 0.3ms | Allocations: 351)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 167)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1700)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 17:05:07 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 247)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 5ms (Views: 0.8ms | Allocations: 2246)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.5ms | Allocations: 161)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 143)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 3.1ms | Allocations: 1298)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1858)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2043)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 3ms (Views: 0.4ms | Allocations: 2055)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1882)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2770)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1849)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1810)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1829)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1841)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-02-14 17:07:41 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1823)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2769)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2354)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
--------------------------------------------------------------------
ResourcesControllerTest: test_success_if_if_option_is_not_fullfilled
--------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#create as HTML
  Parameters: {"skip"=>"1"}
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.8ms | Allocations: 1847)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 1858)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 14ms (Views: 2.9ms | Allocations: 2982)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | Allocations: 120)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1833)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2017)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2299)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1827)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 1893)
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 179)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 0ms (Views: 0.3ms | Allocations: 351)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1744)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:40:54 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:14 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 203)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:14 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 3ms (Views: 3.1ms | Allocations: 1306)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:14 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 125)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:14 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 143)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 157)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 5ms (Views: 0.1ms | Allocations: 2259)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 404)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
Completed 500 Internal Server Error in 2ms (Allocations: 1833)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 1829)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.2ms | Allocations: 1808)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 1828)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 1829)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2054)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 1835)
--------------------------------------------------------------------
ResourcesControllerTest: test_success_if_if_option_is_not_fullfilled
--------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#create as HTML
  Parameters: {"skip"=>"1"}
Completed 500 Internal Server Error in 2ms (Allocations: 1829)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1821)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:45:15 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2768)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:46:07 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 2447)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:46:13 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 2448)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:46:54 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 8ms (Allocations: 2446)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:47:35 +0100
Processing by ResourcesController#create as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 2449)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:48:26 +0100
Processing by ResourcesController#create as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 12ms (Views: 4.1ms | Allocations: 3596)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:49:11 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 9ms (Views: 0.1ms | Allocations: 2505)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 205)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 143)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 2.2ms | Allocations: 1306)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2365)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 4ms (Views: 0.1ms | Allocations: 1842)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 6ms (Views: 0.2ms | Allocations: 1858)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 366)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1865)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2768)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2044)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1847)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1907)
--------------------------------------------------------------------
ResourcesControllerTest: test_success_if_if_option_is_not_fullfilled
--------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#create as HTML
  Parameters: {"skip"=>"1"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 1869)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2016)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1813)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 197)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:49:19 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 2ms (Views: 0.1ms | Allocations: 1697)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 211)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1698)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 159)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 179)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.8ms | Allocations: 125)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 2.1ms | Allocations: 1298)
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2056)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 181)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1821)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
--------------------------------------------------------------------
ResourcesControllerTest: test_success_if_if_option_is_not_fullfilled
--------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#create as HTML
  Parameters: {"skip"=>"1"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2019)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1841)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1907)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2768)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1847)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1819)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1881)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1861)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:16 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1808)
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 2.1ms | Allocations: 1381)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 130)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 143)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 157)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 8ms (Views: 0.1ms | Allocations: 2261)
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 151)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 1ms (Views: 0.1ms | Allocations: 403)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1861)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1858)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1808)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2056)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1880)
--------------------------------------------------------------------
ResourcesControllerTest: test_success_if_if_option_is_not_fullfilled
--------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#create as HTML
  Parameters: {"skip"=>"1"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1871)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2016)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1841)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 2773)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1814)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 13:53:36 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1847)
--------------------------------------------------------
TestHelperTest: test_unauthorized_if_no_token_was_passed
--------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 203)
------------------------------------------------------------
TestHelperTest: test_is_successful_if_correct_JWT_was_passed
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by TestHelperResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 2ms (Views: 1.9ms | Allocations: 1306)
------------------------------------------------------
TestHelperTest: test_forbidden_if_invalid_subject_type
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 125)
------------------------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_have_correct_permission
------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by TestHelperResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.2ms | Allocations: 157)
------------------------------------------------------
TestHelperTest: test_forbidden_if_scope_does_not_exist
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by TestHelperResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 143)
------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_signature
------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 2860)
---------------------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_have_correct_permission
---------------------------------------------------------------------------------
Started POST "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#create as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 6ms (Views: 0.9ms | Allocations: 2352)
-----------------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_is_only_for_one_action
-----------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 3ms (Views: 0.1ms | Allocations: 1829)
----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_token_was_blacklisted
----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1816)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_scope_does_not_exist
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1835)
---------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_subject_type
---------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1815)
------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_JWT_expired
------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 364)
-----------------------------------------------------------------
ResourcesControllerTest: test_forbidden_if_invalid_JWT_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 0ms (Views: 0.1ms | Allocations: 145)
---------------------------------------------------------------------
ResourcesControllerTest: test_is_successful_if_correct_JWT_was_passed
---------------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.4ms | Allocations: 2044)
------------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_scope_is_only_for_one_action_but_the_right_one
------------------------------------------------------------------------------------------
Started DELETE "/resources/123" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#destroy as HTML
  Parameters: {"id"=>"123"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.2ms | Allocations: 1882)
-------------------------------------------------------------------------------------
ResourcesControllerTest: test_forbissen_if_correct_JWT_was_passed_with_wrong_app_name
-------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by OtherAppResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 403 Forbidden in 2ms (Views: 0.1ms | Allocations: 1860)
--------------------------------------------------------------------------------------
ResourcesControllerTest: test_successful_if_correct_JWT_was_passed_with_other_app_name
--------------------------------------------------------------------------------------
Started GET "/other_app_resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by OtherAppResourcesController#index as HTML
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 1)
Completed 200 OK in 2ms (Views: 0.3ms | Allocations: 2018)
-----------------------------------------------------------------
ResourcesControllerTest: test_unauthorized_if_no_token_was_passed
-----------------------------------------------------------------
Started GET "/resources" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by ResourcesController#index as HTML
Filter chain halted as :authenticate_by_jwt rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | Allocations: 120)
---------------------------------------
Zaikio::JWTAuth::Test: test_is_a_module
---------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_it_is_configurable
----------------------------------------------
----------------------------------------------
Zaikio::JWTAuth::Test: test_has_version_number
----------------------------------------------
----------------------------------------
Zaikio::JWTAuth::Test: test_revoked_jwt?
----------------------------------------
--------------------------------------------------------
WebhooksControllerTest: test_does_nothing_on_other_event
--------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.other_event", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 198)
-----------------------------------------------------------------------------------
WebhooksControllerTest: test_success_if_signature_is_invalid_but_does_not_add_token
-----------------------------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :verify_signature rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 121)
-------------------------------------------------------------
WebhooksControllerTest: test_adds_token_to_blacklisted_tokens
-------------------------------------------------------------
Started POST "/webhooks" for 127.0.0.1 at 2020-03-20 14:02:22 +0100
Processing by WebhooksController#create as HTML
  Parameters: {"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}, "webhook"=>{"name"=>"directory.revoked_access_token", "payload"=>{"access_token_id"=>"my-webhook-token"}}}
Filter chain halted as :update_blacklisted_access_tokens_by_webhook rendered or redirected
Completed 200 OK in 1ms (Views: 0.1ms | Allocations: 1699)
----------------------------------------------
Zaikio::Webhook::Test: test_has_version_number
----------------------------------------------
----------------------------------------------
Zaikio::Webhook::Test: test_has_version_number
----------------------------------------------
